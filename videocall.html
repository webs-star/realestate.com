
<!DOCTYPE html>
<html>
<head>
  <title>Secure Meeting App</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
</head>
<body>
  <h2>üîê Sign In / Sign Up</h2>
  <input id="email" placeholder="Email"><br>
  <input id="password" placeholder="Password" type="password"><br>
  <button onclick="signUp()">Sign Up</button>
  <button onclick="login()">Login</button>
  <hr>

  <div id="meetingSection" style="display:none">
    <h3>üìÖ Start or Join a Meeting</h3>
    <input id="meetingName" placeholder="Meeting name (e.g. team-call)"><br>
    <button onclick="createMeeting()">Create Meeting</button>
    <button onclick="joinMeeting()">Join Meeting</button>
    <div id="videoContainer" style="margin-top: 20px;"></div>
  </div>

  <script>
    // Replace with your Firebase config
   const firebaseConfig = {
    apiKey: "AIzaSyAYztz7z8L3SFOZgCpbwthzTXeuhojDisM",
    authDomain: "lead-tracker-a2181.firebaseapp.com",
    databaseURL: "https://lead-tracker-a2181-default-rtdb.firebaseio.com",
    projectId: "lead-tracker-a2181",
    storageBucket: "lead-tracker-a2181.appspot.com",
    messagingSenderId: "601818438359",
    appId: "1:601818438359:web:44f4c05db3d732d29dee92"
  };
    firebase.initializeApp(firebaseConfig);

    firebase.auth().onAuthStateChanged(user => {
      if (user) {
        document.getElementById("meetingSection").style.display = "block";
      }
    });

    function signUp() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(() => alert("Signed up"))
        .catch(err => alert(err.message));
    }

    function login() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(() => alert("Logged in"))
        .catch(err => alert(err.message));
    }

    function createMeeting() {
      const name = document.getElementById("meetingName").value.trim();
      if (!name) return alert("Enter a meeting name");

      const user = firebase.auth().currentUser;
      if (!user) return alert("Login required");

      firebase.database().ref("meetings/" + name).set({
        host: user.email,
        createdAt: Date.now()
      }).then(() => {
        alert("Meeting created!");
        openMeeting(name);
      });
    }

    function joinMeeting() {
      const name = document.getElementById("meetingName").value.trim();
      if (!name) return alert("Enter meeting name");

      firebase.database().ref("meetings/" + name).once("value").then(snapshot => {
        if (!snapshot.exists()) return alert("Meeting not found.");
        openMeeting(name);
      });
    }

    function openMeeting(name) {
      const container = document.getElementById("videoContainer");
      container.innerHTML = '';
      const iframe = document.createElement("iframe");
      iframe.src = "https://meet.jit.si/" + name;
      iframe.width = "100%";
      iframe.height = "500";
      iframe.allow = "camera; microphone; fullscreen; display-capture";
      iframe.allowFullscreen = true;
      container.appendChild(iframe);
    }
  </script>
</body>
</html>
























